{"version":3,"file":"order-token-parser.js","names":["_token","require","orderParser","parser","_options","callback","readUInt16LE","length","columnCount","orderColumns","i","next","done","column","push","OrderToken","_default","exports","default","module"],"sources":["../../src/token/order-token-parser.ts"],"sourcesContent":["// s2.2.7.14\nimport Parser, { type ParserOptions } from './stream-parser';\n\nimport { OrderToken } from './token';\n\nfunction orderParser(parser: Parser, _options: ParserOptions, callback: (token: OrderToken) => void) {\n  parser.readUInt16LE((length) => {\n    const columnCount = length / 2;\n    const orderColumns: number[] = [];\n\n    let i = 0;\n    function next(done: () => void) {\n      if (i === columnCount) {\n        return done();\n      }\n\n      parser.readUInt16LE((column) => {\n        orderColumns.push(column);\n\n        i++;\n\n        next(done);\n      });\n    }\n\n    next(() => {\n      callback(new OrderToken(orderColumns));\n    });\n  });\n}\n\nexport default orderParser;\nmodule.exports = orderParser;\n"],"mappings":";;;;;;AAGA,IAAAA,MAAA,GAAAC,OAAA;AAHA;;AAKA,SAASC,WAAWA,CAACC,MAAc,EAAEC,QAAuB,EAAEC,QAAqC,EAAE;EACnGF,MAAM,CAACG,YAAY,CAAEC,MAAM,IAAK;IAC9B,MAAMC,WAAW,GAAGD,MAAM,GAAG,CAAC;IAC9B,MAAME,YAAsB,GAAG,EAAE;IAEjC,IAAIC,CAAC,GAAG,CAAC;IACT,SAASC,IAAIA,CAACC,IAAgB,EAAE;MAC9B,IAAIF,CAAC,KAAKF,WAAW,EAAE;QACrB,OAAOI,IAAI,CAAC,CAAC;MACf;MAEAT,MAAM,CAACG,YAAY,CAAEO,MAAM,IAAK;QAC9BJ,YAAY,CAACK,IAAI,CAACD,MAAM,CAAC;QAEzBH,CAAC,EAAE;QAEHC,IAAI,CAACC,IAAI,CAAC;MACZ,CAAC,CAAC;IACJ;IAEAD,IAAI,CAAC,MAAM;MACTN,QAAQ,CAAC,IAAIU,iBAAU,CAACN,YAAY,CAAC,CAAC;IACxC,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAAC,IAAAO,QAAA,GAEcd,WAAW;AAAAe,OAAA,CAAAC,OAAA,GAAAF,QAAA;AAC1BG,MAAM,CAACF,OAAO,GAAGf,WAAW"}