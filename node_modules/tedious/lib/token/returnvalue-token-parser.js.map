{"version":3,"file":"returnvalue-token-parser.js","names":["_token","require","_metadataParser","_interopRequireDefault","_valueParser","obj","__esModule","default","returnParser","parser","options","callback","readUInt16LE","paramOrdinal","readBVarChar","paramName","charAt","slice","readUInt8","metadataParse","metadata","valueParse","value","ReturnValueToken","_default","exports","module"],"sources":["../../src/token/returnvalue-token-parser.ts"],"sourcesContent":["// s2.2.7.16\n\nimport Parser, { type ParserOptions } from './stream-parser';\n\nimport { ReturnValueToken } from './token';\n\nimport metadataParse from '../metadata-parser';\nimport valueParse from '../value-parser';\n\nfunction returnParser(parser: Parser, options: ParserOptions, callback: (token: ReturnValueToken) => void) {\n  parser.readUInt16LE((paramOrdinal) => {\n    parser.readBVarChar((paramName) => {\n      if (paramName.charAt(0) === '@') {\n        paramName = paramName.slice(1);\n      }\n\n      // status\n      parser.readUInt8(() => {\n        metadataParse(parser, options, (metadata) => {\n          valueParse(parser, metadata, options, (value) => {\n            callback(new ReturnValueToken({\n              paramOrdinal: paramOrdinal,\n              paramName: paramName,\n              metadata: metadata,\n              value: value\n            }));\n          });\n        });\n      });\n    });\n  });\n}\n\nexport default returnParser;\nmodule.exports = returnParser;\n"],"mappings":";;;;;;AAIA,IAAAA,MAAA,GAAAC,OAAA;AAEA,IAAAC,eAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,YAAA,GAAAD,sBAAA,CAAAF,OAAA;AAAyC,SAAAE,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAPzC;;AASA,SAASG,YAAYA,CAACC,MAAc,EAAEC,OAAsB,EAAEC,QAA2C,EAAE;EACzGF,MAAM,CAACG,YAAY,CAAEC,YAAY,IAAK;IACpCJ,MAAM,CAACK,YAAY,CAAEC,SAAS,IAAK;MACjC,IAAIA,SAAS,CAACC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;QAC/BD,SAAS,GAAGA,SAAS,CAACE,KAAK,CAAC,CAAC,CAAC;MAChC;;MAEA;MACAR,MAAM,CAACS,SAAS,CAAC,MAAM;QACrB,IAAAC,uBAAa,EAACV,MAAM,EAAEC,OAAO,EAAGU,QAAQ,IAAK;UAC3C,IAAAC,oBAAU,EAACZ,MAAM,EAAEW,QAAQ,EAAEV,OAAO,EAAGY,KAAK,IAAK;YAC/CX,QAAQ,CAAC,IAAIY,uBAAgB,CAAC;cAC5BV,YAAY,EAAEA,YAAY;cAC1BE,SAAS,EAAEA,SAAS;cACpBK,QAAQ,EAAEA,QAAQ;cAClBE,KAAK,EAAEA;YACT,CAAC,CAAC,CAAC;UACL,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAAC,IAAAE,QAAA,GAEchB,YAAY;AAAAiB,OAAA,CAAAlB,OAAA,GAAAiB,QAAA;AAC3BE,MAAM,CAACD,OAAO,GAAGjB,YAAY"}